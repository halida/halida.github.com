---
layout: post
title: "智能家居之灯光改造方案"
date: 2022-12-27 09:13:48 +0800
comments: true
categories: smarthome
---

灯光控制有几类需求：

- 只需要开关：普通灯
- 调整亮度：渐开渐关的效果更舒服
- 冷暖双色调光：主流需要调整灯光颜色就只需要冷暖
- 颜色调光：一般情况下不需要，家里不是舞厅


控制灯光最好的方法还是有线方法：

- 灯线都走电箱，控制器都放电箱导轨上面。
- 用模块控制：开关模块，LED 0-10v调光模块，调色模块。
- 开关控制走485总线或者KNX总线，485转IP，上面还可以再用home assistant控制。

[!image](https://ipcsautomation.com/wp-content/uploads/2018/06/49blog-640x300.jpg)

这样价格可能高一些，但是有线带来的稳定性不是无线可以比拟的。

不过大家一般不会在装修阶段思考清楚这样设计，最后主要还是改造方案。

- 网络方面最好采用zigbee协议，只组网，更少干扰。
- 改造主要几个维度：是否换智能灯，开关是否有零线，是否多控。

如果灯具是智能灯，开关通断会影响智能灯的工作，必须保持常通的模式。

- 有的智能灯支持凌动开关的模式，原理就是开关保持常连，按一下就是快速断开连上，智能灯可以识别这个脉冲变化切换开关，但是对电源有冲击，个人觉得最好不要用。
- 有的智能灯有的支持433射频开关，这样废弃掉旧的开关，用无线433射频开关控制。
- 如果实在不行，就只能用无线开关接入，用home assistant总控配置了。

如果是非智能灯，需要购买一个智能通断模块，放在开关处或者灯处。

- 一般电灯开关的走线方式是只走一根火线，开关控制火线的通断，火线再接到灯上，零线连到灯。
- 这种情况下，智能模块放到开关处就没有零线了，需要购买单火的智能模块，原理是保持一个微弱的电流让智能模块工作，
副作用是灯那边也有电流，可能出现微亮的情况。如果是zigbee模块，这个电流就比较小，影响不大。
- 如果不想用单火模块，就需要把智能模块放在灯上面，开关保持常闭，另外接无线开关（同上面智能灯的方法）。

如果灯具需要多控，分情况：

- 如果火线的入口和出口都在一个开关处，只要换一个单火模块串进来就可以了。
- 如果不在一个开关处，可以串联起来，用凌动开关，这样一个开关发出脉冲信号，通断模块就可以开关。


